# 1 插入数据

建表
```
CREATE TABLE products(
    product_no integer,
    name text,
    price numeric
)
```

插入数据
```
-- 顺序写入
INSERT INTO products VALUES (1, 'Cheese', 9.99);

-- 命名参数(不填写的会填充默认值)
INSERT INTO products (name, price, product_no) VALUES ('Cheese', 9.99, 1);

-- 批量写入
INSERT INTO products (product_no, name, price) VALUES 
    (1, 'Cheese', 9.99),
    (2, 'Bread', 1.99),
    (3, 'Milk', 2.99);

-- 查询插入
INSERT INTE products (prodcut_no, name, price)
    SELECT prodcut_no, name, price FROM new_products
        WHERE release_day = 'today';
```

# 2.更新数据
要更新现有行，请使用`UPDATE`命令。这需要三条信息：

+ 要更新的表和列的名称

+ 该列的新值

+ 要更新哪一行
```
-- 查询更新
UPDATE products SET price = 10 WHERE price = 5;

-- 表达式
UPDATE products SET price = price * 10;

-- 多列更新
UPDATE products SET a = 5, b = 3, c = 1 WHERE a > 0;
```

# 3.删除数据
```
-- 查询删除
DELETE FROM products WHERE price = 10;

-- 全删
DELETE FROM products;
```

# 4.从修改行返回数据
插入并返回
```
CREATE TABLE users (firstname text, lastname text, id serial primary key);

INSERT INTO users (firstname, lastname) VALUES ('Joe', 'Cool') RETURNING id;
```

更新并返回
```
UPDATE products SET price = price * 1.10
    WHERE price <= 99.99
    RETURNING name, price AS new_price;
```

删除并返回
```
DELETE FROM products
    WHERE obsoletion_date = 'today'
    RETURNING *;
```