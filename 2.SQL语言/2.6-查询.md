## 1.概述

一般语法
```
[WITH with_queries] SELECT select_list FROM table_expression [sort_specification]

-- 例1，返回所有查询
SELECT * FROM TABLE1;

-- 例2，表达式
SELECT a, b + c FROM TABLE1;

-- 例3，表达式，忽略表语句
SELECT 3 + 4;

-- 例4，函数调用
SELECT random();
```

## 2.表表达式
### 2.1 FROM 
逗号分隔一个或多个其它表的派生表
```
FROM table_reference [, table_reference, [,...]]
```

2.1.1 连接表
根据特定连接类型从其他两个表（真实表或者派生表）派生而来的表。连接类型包括内连接、外连接和交叉连接
```
T1 joint T2
```

交叉连接
```
T1 CROSS JOIN T2
```
T1 组合 T2，即笛卡尔积

合法连接如下
```
T1 { [INNER] | { LEFT | RIGHT | FULL } [OUTER]} JOIN T2 ON boolean_expression
T1 { [INNER] | { LEFT | RIGHT | FULL } [OUTER]} JOIN T2 USING ( join column list)
T1 NATURAL { {INNER} | {LEFT | RIGHT | FULL } {OUTER} } JOIN T2
```

单词 `INNER` 和 `OUTER` 在所有形式中都是可选的。`INNER` 是默认值；`LEFT`、`RIGHT`和`FULL`表示外连接。
连接条件在子句中指定ON或USING，或由单词`NATURAL`隐式指定。连接条件确定两个源表中的哪些行被视为“匹配”

```
-- 例
SELECT * FROM t1 CROSS JOIN t2;

SELECT * FROM t1 (INNER) JOIN t2 ON t1.num = t2.num;
```

2.1.2 表和列别名
```
FROM table_reference AS alias

FROM table_reference alias
```

2.1.3 子查询
```
FROM (SELEC * FROM table1) AS alias_name
```

2.1.4 表函数
```
function_call [WITH ORDINALITY] [[AS] table_alias [(column_alias [, ... ])]]
ROWS FROM( function_call [, ... ] ) [WITH ORDINALITY] [[AS] table_alias [(column_alias [, ... ])]]
```

2.1.5 LATERAL 子查询
```
SELECT * FROM foo, LATERAL (SELECT * FROM bar WHERE bar.id = foo.bar_id) ss;
```

## 2.2 WHERE 
```
SELECT ... FROM table1 WHERE ...;
```

## 2.3 GROUP BY 和 HAVING
```
SELECT selec_list
FROM table1 [WHERE...]
GROUP BY grouping_reference [, grouping_reference...]...


SELECT select_list FROM ... [WHERE ...] GROUP BY ... HAVING boolean_expression
```

## 2.4 GROUP SETS, CLUB, 和 ROLLUP
分组集，按照指定的每个分组集进行分组
```
SELECT * FROM items_sold;

SELECT brand, size, sun(sales) FROM items_sold GROUPING SETS ((brand), (size), ())
```

## 2.5 窗口函数处理

